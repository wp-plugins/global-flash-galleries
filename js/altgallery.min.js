/**
 * altgallery, jQuery Plugin
 *
 * @version 0.3.3
 * @copyright 2011 flash-gallery.com
 */

jQuery.effects||function(g,q){function r(c){var a;return c&&c.constructor==Array&&c.length==3?c:(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]:(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))?[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55]:(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))?[parseInt(a[1],16),parseInt(a[2],
16),parseInt(a[3],16)]:(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))?[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(c)?s.transparent:s[g.trim(c).toLowerCase()]}function t(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,a={},b,f;if(c&&c.length&&c[0]&&c[c[0]])for(var d=c.length;d--;)b=c[d],typeof c[b]=="string"&&(f=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),a[f]=c[b]);else for(b in c)typeof c[b]===
"string"&&(a[b]=c[b]);return a}function w(c){var a,b;for(a in c)b=c[a],(b==null||g.isFunction(b)||a in n||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(b)))&&delete c[a];return c}function x(c,a){var b={_:0},f;for(f in a)c[f]!=a[f]&&(b[f]=a[f]);return b}function m(c,a,b,f){if(typeof c=="object")f=a,b=null,a=c,c=a.effect;g.isFunction(a)&&(f=a,b=null,a={});if(typeof a=="number"||g.fx.speeds[a])f=b,b=a,a={};g.isFunction(b)&&(f=b,b=null);a=a||{};b=b||a.duration;b=g.fx.off?0:typeof b=="number"?
b:b in g.fx.speeds?g.fx.speeds[b]:g.fx.speeds._default;f=f||a.complete;return[c,a,b,f]}function v(c){return!c||typeof c==="number"||g.fx.speeds[c]?!0:typeof c==="string"&&!g.effects[c]?!0:!1}g.effects={};g.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(c,a){g.fx.step[a]=function(b){if(!b.colorInit){var c;c=b.elem;var d=a,h;do{h=g.curCSS(c,d);if(h!=""&&h!="transparent"||g.nodeName(c,"body"))break;d="backgroundColor"}while(c=
c.parentNode);c=r(h);b.start=c;b.end=r(b.end);b.colorInit=!0}b.elem.style[a]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var s={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],
darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],
maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},p=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};g.effects.animateClass=function(c,a,b,f){g.isFunction(b)&&(f=b,b=null);return this.queue("fx",function(){var d=g(this),h=d.attr("style")||
" ",i=w(t.call(this)),j,k=d.attr("className");g.each(p,function(a,b){if(c[b])d[b+"Class"](c[b])});j=w(t.call(this));d.attr("className",k);d.animate(x(i,j),a,b,function(){g.each(p,function(a,b){if(c[b])d[b+"Class"](c[b])});typeof d.attr("style")=="object"?(d.attr("style").cssText="",d.attr("style").cssText=h):d.attr("style",h);f&&f.apply(this,arguments)});i=g.queue(this);j=i.splice(i.length-1,1)[0];i.splice(1,0,j);g.dequeue(this)})};g.fn.extend({_addClass:g.fn.addClass,addClass:function(c,a,b,f){return a?
g.effects.animateClass.apply(this,[{add:c},a,b,f]):this._addClass(c)},_removeClass:g.fn.removeClass,removeClass:function(c,a,b,f){return a?g.effects.animateClass.apply(this,[{remove:c},a,b,f]):this._removeClass(c)},_toggleClass:g.fn.toggleClass,toggleClass:function(c,a,b,f,d){return typeof a=="boolean"||a===q?b?g.effects.animateClass.apply(this,[a?{add:c}:{remove:c},b,f,d]):this._toggleClass(c,a):g.effects.animateClass.apply(this,[{toggle:c},a,b,f])},switchClass:function(c,a,b,f,d){return g.effects.animateClass.apply(this,
[{add:a,remove:c},b,f,d])}});g.extend(g.effects,{version:"1.8.12",save:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.data("ec.storage."+a[b],c[0].style[a[b]])},restore:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.css(a[b],c.data("ec.storage."+a[b]))},setMode:function(c,a){a=="toggle"&&(a=c.is(":hidden")?"show":"hide");return a},getBaseline:function(c,a){var b,f;switch(c[0]){case "top":b=0;break;case "middle":b=0.5;break;case "bottom":b=1;break;default:b=c[0]/a.height}switch(c[1]){case "left":f=
0;break;case "center":f=0.5;break;case "right":f=1;break;default:f=c[1]/a.width}return{x:f,y:b}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var a={width:c.outerWidth(!0),height:c.outerHeight(!0),"float":c.css("float")},b=g("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});c.wrap(b);b=c.parent();c.css("position")=="static"?(b.css({position:"relative"}),c.css({position:"relative"})):
(g.extend(a,{position:c.css("position"),zIndex:c.css("z-index")}),g.each(["top","left","bottom","right"],function(b,d){a[d]=c.css(d);isNaN(parseInt(a[d],10))&&(a[d]="auto")}),c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return b.css(a).show()},removeWrapper:function(c){return c.parent().is(".ui-effects-wrapper")?c.parent().replaceWith(c):c},setTransition:function(c,a,b,f){f=f||{};g.each(a,function(a,g){unit=c.cssUnit(g);unit[0]>0&&(f[g]=unit[0]*b+unit[1])});return f}});g.fn.extend({effect:function(c,
a,b,f){var d=m.apply(this,arguments),h={options:d[1],duration:d[2],callback:d[3]},d=h.options.mode,i=g.effects[c];return g.fx.off||!i?d?this[d](h.duration,h.callback):this.each(function(){h.callback&&h.callback.call(this)}):i.call(this,h)},_show:g.fn.show,show:function(c){if(v(c))return this._show.apply(this,arguments);else{var a=m.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a)}},_hide:g.fn.hide,hide:function(c){if(v(c))return this._hide.apply(this,arguments);else{var a=m.apply(this,
arguments);a[1].mode="hide";return this.effect.apply(this,a)}},__toggle:g.fn.toggle,toggle:function(c){if(v(c)||typeof c==="boolean"||g.isFunction(c))return this.__toggle.apply(this,arguments);else{var a=m.apply(this,arguments);a[1].mode="toggle";return this.effect.apply(this,a)}},cssUnit:function(c){var a=this.css(c),b=[];g.each(["em","px","%","pt"],function(c,d){a.indexOf(d)>0&&(b=[parseFloat(a),d])});return b}});g.easing.jswing=g.easing.swing;g.extend(g.easing,{def:"easeOutQuad",swing:function(c,
a,b,f,d){return g.easing[g.easing.def](c,a,b,f,d)},easeInQuad:function(c,a,b,f,d){return f*(a/=d)*a+b},easeOutQuad:function(c,a,b,f,d){return-f*(a/=d)*(a-2)+b},easeInOutQuad:function(c,a,b,f,d){return(a/=d/2)<1?f/2*a*a+b:-f/2*(--a*(a-2)-1)+b},easeInCubic:function(c,a,b,f,d){return f*(a/=d)*a*a+b},easeOutCubic:function(c,a,b,f,d){return f*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(c,a,b,f,d){return(a/=d/2)<1?f/2*a*a*a+b:f/2*((a-=2)*a*a+2)+b},easeInQuart:function(c,a,b,f,d){return f*(a/=d)*a*a*a+
b},easeOutQuart:function(c,a,b,f,d){return-f*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(c,a,b,f,d){return(a/=d/2)<1?f/2*a*a*a*a+b:-f/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(c,a,b,f,d){return f*(a/=d)*a*a*a*a+b},easeOutQuint:function(c,a,b,f,d){return f*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(c,a,b,f,d){return(a/=d/2)<1?f/2*a*a*a*a*a+b:f/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(c,a,b,f,d){return-f*Math.cos(a/d*(Math.PI/2))+f+b},easeOutSine:function(c,a,b,f,d){return f*Math.sin(a/
d*(Math.PI/2))+b},easeInOutSine:function(c,a,b,f,d){return-f/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(c,a,b,f,d){return a==0?b:f*Math.pow(2,10*(a/d-1))+b},easeOutExpo:function(c,a,b,f,d){return a==d?b+f:f*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(c,a,b,f,d){return a==0?b:a==d?b+f:(a/=d/2)<1?f/2*Math.pow(2,10*(a-1))+b:f/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(c,a,b,f,d){return-f*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOutCirc:function(c,a,b,f,d){return f*Math.sqrt(1-(a=a/d-1)*
a)+b},easeInOutCirc:function(c,a,b,f,d){return(a/=d/2)<1?-f/2*(Math.sqrt(1-a*a)-1)+b:f/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(c,a,b,f,d){var c=1.70158,g=0,i=f;if(a==0)return b;if((a/=d)==1)return b+f;g||(g=d*0.3);i<Math.abs(f)?(i=f,c=g/4):c=g/(2*Math.PI)*Math.asin(f/i);return-(i*Math.pow(2,10*(a-=1))*Math.sin((a*d-c)*2*Math.PI/g))+b},easeOutElastic:function(c,a,b,f,d){var c=1.70158,g=0,i=f;if(a==0)return b;if((a/=d)==1)return b+f;g||(g=d*0.3);i<Math.abs(f)?(i=f,c=g/4):c=g/(2*Math.PI)*
Math.asin(f/i);return i*Math.pow(2,-10*a)*Math.sin((a*d-c)*2*Math.PI/g)+f+b},easeInOutElastic:function(c,a,b,f,d){var c=1.70158,g=0,i=f;if(a==0)return b;if((a/=d/2)==2)return b+f;g||(g=d*0.3*1.5);i<Math.abs(f)?(i=f,c=g/4):c=g/(2*Math.PI)*Math.asin(f/i);return a<1?-0.5*i*Math.pow(2,10*(a-=1))*Math.sin((a*d-c)*2*Math.PI/g)+b:i*Math.pow(2,-10*(a-=1))*Math.sin((a*d-c)*2*Math.PI/g)*0.5+f+b},easeInBack:function(c,a,b,f,d,g){g==q&&(g=1.70158);return f*(a/=d)*a*((g+1)*a-g)+b},easeOutBack:function(c,a,b,f,
d,g){g==q&&(g=1.70158);return f*((a=a/d-1)*a*((g+1)*a+g)+1)+b},easeInOutBack:function(c,a,b,f,d,g){g==q&&(g=1.70158);return(a/=d/2)<1?f/2*a*a*(((g*=1.525)+1)*a-g)+b:f/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},easeInBounce:function(c,a,b,f,d){return f-g.easing.easeOutBounce(c,d-a,0,f,d)+b},easeOutBounce:function(c,a,b,f,d){return(a/=d)<1/2.75?f*7.5625*a*a+b:a<2/2.75?f*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?f*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:f*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},easeInOutBounce:function(c,
a,b,f,d){return a<d/2?g.easing.easeInBounce(c,a*2,0,f,d)*0.5+b:g.easing.easeOutBounce(c,a*2-d,0,f,d)*0.5+f*0.5+b}})}(jQuery);
(function(g,q){function r(){var c=document.getElementsByTagName("script");return c[c.length-1].src||location.href}function t(c){return'url("'+c+'")'}function w(c){var a=[],b,f;for(b in c)for(f in c[b].items)a.push(c[b].items[f]);return a}function x(c){this.element=g(c);this.width=function(a){return this.element.width(a)};this.height=function(a){return this.element.height(a)};this.drawImage=function(a,b,c){var b=g.extend({left:0,top:0,width:120,height:90,scaleMode:"fill",background:"none"},b),c=c===
q?this.element:g(c,this.element),d=new Image;d.src=a.thumb;d.onload=function(){var h=document.createElement("a");g(h).attr({href:a.source});g(h).css({display:"block",position:"absolute",left:b.x,top:b.y,zIndex:b.z,width:b.width,height:b.height,overflow:"hidden",background:b.background,opacity:b.opacity});g(h).click(b.onclick);g(h).hover(b.onmouseover,b.onmouseout);var i=document.createElement("img");i.src=d.src;var j;b.scaleMode=="fit"?j=p.fit(this.width,this.height,b.width,b.height):b.scaleMode==
"fill"&&(j=p.fill(this.width,this.height,b.width,b.height));g(i).css({marginTop:j.top,marginRight:0,marginBottom:0,marginLeft:j.left,width:j.width,height:j.height,padding:0,border:"none",maxWidth:"none",maxHeight:"none"});g(h).append(i);c.append(h)}}}function m(c,a,b){this.canvas=c;this.albums=a;this.items=w(a);this.currentItem=-1;this.getCurrentItem=function(){return this.items[this.currentItem]};this.settings=g.extend(!0,{thumbnail:{width:160,height:120,alpha:85}},b);this.page=0;this.render()}function v(c,
a){c=g(c);n=a;var b,f,d;b=a.config||{};(function(){function a(b,c,d){f.push({id:c||0,description:d||"Album "+(c+1),items:b})}f=[];if(typeof b.albums=="array")for(var d in b.albums)a(b.albums[d].items,d,b.albums[d].description);else if(typeof b.items=="array")a(b.items);else{d=c.find("ul:first > li");var j=function(a){var b=[];g(a).find("img").each(function(){b.push({source:g(this).parent("a").attr("href")||g(this).attr("src"),thumb:g(this).attr("src"),description:this.title})});return b};if(d.length){var k=
0;d.each(function(){a(j(this),k++)})}else a(j(c))}})();e=document.createElement("div");d=new x(e);d.element.addClass("altgallery-canvas");d.element.css({display:"block",position:"relative",width:a.width,height:a.height,overflow:"hidden",margin:0,padding:0,background:a.background});c.empty().append(e);a.type.toLowerCase()=="box"&&new m(d,f,b.settings||{})}r();var s=r().replace(/[^\/]*$/,""),p={fit:function(c,a,b,f,d){var h,i,j=c/a,d=g.extend({noEnlarge:!1,minWidth:16,minHeight:16},d);h=b;i=b/j;i>f&&
(i=f,h=i*j);if(h<d.minWidth)h=d.minWidth,i=h/j;if(i<d.minHeight)i=d.minHeight,h=i*j;if(d.noEnlarge&&(h>c||i>a))h=c,i=a;c=(f-i)/2;return{left:parseInt((b-h)/2),top:parseInt(c),width:parseInt(h),height:parseInt(i)}},fill:function(c,a,b,f){var d=c/a,c=b,a=b/d;a<f&&(a=f,c=a*d);f=(f-a)/2;return{left:parseInt((b-c)/2),top:parseInt(f),width:parseInt(c),height:parseInt(a)}}};m.prototype.render=function(c){var a=this,b=this.canvas,f=this.items;if(c===q)c=a.page;b.element.empty();var d=this.canvas.width(),
h=this.canvas.height(),i=parseInt((d-50)/this.settings.thumbnail.width),j=parseInt((h-50)/this.settings.thumbnail.height),k=Math.ceil(f.length/i);j>k&&(j=k);k=i*j;c*=k;a.pagesCount=Math.ceil(f.length/k);var l=this.settings.thumbnail.width+2,o=this.settings.thumbnail.height+2,y=(d-l*i)/2-8,m=(h-o*j)/2-8,p=this.settings.thumbnail.alpha/100,u=g('<div class="altgallery-frame" />'),d={position:"absolute",left:parseInt(y),top:parseInt(m),width:parseInt(d-(y+8)*2)+14,height:parseInt(h-(m+8)*2)+14,overflow:"hidden",
background:"#fff",borderRadius:"4px",MozBorderRadius:"4px",webkitBorderRadius:"4px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.5)",MozBoxShadow:"0 0 10px rgba(0, 0, 0, 0.5)",webkitBoxShadow:"0 0 10px rgba(0, 0, 0, 0.5)"};u.css(d);a.page>0&&(h=g('<a class="altgallery-page" style="left:4px; background:no-repeat center; -moz-border-radius:4px; -webkit-border-radius:4px; border-radius:4px;"></a>'),h.css({backgroundImage:t(n.images.left)}),h.click(function(){a.prevPage()}),u.append(h));a.page<a.pagesCount-1&&
(h=g('<a class="altgallery-page" style="right:4px; background:no-repeat center; -moz-border-radius:4px; -webkit-border-radius:4px; border-radius:4px;"></a>'),h.css({backgroundImage:t(n.images.right)}),h.click(function(){a.nextPage()}),u.append(h));u.find(".altgallery-page").css({position:"absolute",width:"30px",height:"30px",top:parseInt(d.height/2)-15,zIndex:20,cursor:"pointer"});u.hover(function(){u.find(".altgallery-page").show()},function(){u.find(".altgallery-page").hide()});b.element.append(u);
h=g('<div class="altgallery-frameMask" />');d.background="#000";d.opacity=0.6;d.zIndex=20;d.boxShadow="none";d.MozBoxShadow="none";d.webkitBoxShadow="none";h.css(d).hide();b.element.append(h);for(var r=1,s=1,d=c,h=-1,j=f.length;d<j;d++){if(d>=k+c)break;d%i||h++;r=d%i*l+8;s=h*o+8;(function(c,d,g){b.drawImage(f[c],{x:parseInt(d),y:parseInt(g),z:10,width:a.settings.thumbnail.width,height:a.settings.thumbnail.height,scaleMode:"fill",opacity:p,onclick:function(){a.currentItem=c;a.open(a.getCurrentItem(),
{left:parseInt(d+y),top:parseInt(g+m)});return!1},onmouseover:function(){this.style.opacity=1},onmouseout:function(){this.style.opacity=p}},".altgallery-frame")})(d,r,s)}};m.prototype.open=function(c,a){var b=this,f=document.createElement("img");f.src=c.thumb;var d=new Image;d.onload=function(){g(".altgallery-imageFrame",b.canvas.element).remove();g(".altgallery-frameMask",b.canvas.element).fadeIn(n.animation.duration);var c=document.createElement("div");g(c).addClass("altgallery-imageFrame").css({position:"absolute",
padding:8,background:"#000",zIndex:30});g(c).hide();var h=p.fit(d.width,d.height,b.canvas.width()-48,b.canvas.height()-48),k={left:h.left+16+h.width/3,top:h.top+16+h.height/3,width:h.width/3,height:h.height/3};if(a!==q){if(a.left!==q)k.left=a.left;if(a.top!==q)k.top=a.top}g(c).css(k);var l=p.fit(d.width,d.height,b.canvas.width()-48,b.canvas.height()-48),o={left:l.left+16+l.width/3,top:l.top+16+l.height/3,width:l.width/3,height:l.height/3,margin:0,padding:0,border:"none",maxWidth:"none",maxHeight:"none",
cursor:"pointer"};g(f).css(o);g(c).append(f);b.canvas.element.append(c);g(f).animate(l,n.animation.duration);g(c).animate({opacity:"show",left:h.left+16,top:h.top+16,width:h.width,height:h.height},n.animation.duration,function(){var a=g('<a class="altgallery-close" style="position:absolute; right:-15px; top:-13px; width:30px; height:30px; z-index:40; background:no-repeat center; cursor:pointer;"></a>');a.css({backgroundImage:t(n.images.close)});a.click(function(){g(this).remove();k.opacity="hide";
g(c).animate(k,n.animation.duration,function(){g(this).remove()});g(f).animate(o,n.animation.duration);g(".altgallery-frameMask",b.canvas.element).fadeOut(n.animation.duration)});g(c).append(a)});g(f).click(function(){g(".altgallery-close",c).remove();k.opacity="hide";g(c).animate(k,n.animation.duration,function(){g(this).remove();b.next()});g(f).animate(o,n.animation.duration)})};d.src=c.thumb;var h=new Image;h.onload=function(){g(f).attr("src",c.source)};h.src=c.source};m.prototype.prev=function(){this.currentItem--;
if(this.currentItem<0)this.currentItem=this.items.length-1;this.open(this.getCurrentItem())};m.prototype.next=function(){this.currentItem++;if(this.currentItem>=this.items.length)this.currentItem=0;this.open(this.getCurrentItem())};m.prototype.prevPage=function(){this.page--;this.render(this.page)};m.prototype.nextPage=function(){this.page++;this.render(this.page)};var n={};g.fn.altgallery=function(c){c=g.extend(!0,{type:"Box",width:"550px",height:"400px",background:"none",images:{folder:s+"img/",
left:"left.png",right:"right.png",close:"close.png"},animation:{duration:500}},c);if(c.images.folder){c.images.folder=c.images.folder.replace(/\/+$/,"")+"/";for(var a in c.images)a!="folder"&&(c.images[a]=c.images.folder+c.images[a].replace(/^\/+/,""))}this.each(function(){v(this,c)});return this};g.altbox=function(c,a){a=g.extend(!0,{frame:{color:"#000",borderRadius:0},mask:{color:"#000",opacity:0.7},images:{folder:s+"img/",close:"close.png",loader:"loader.gif"},animation:{duration:700}},a);if(a.images.folder)for(var b in a.images)b!=
"folder"&&!a.images[b].match("/")&&(a.images[b]=a.images.folder+a.images[b]);var f=g('<div style="position:fixed; z-index:999; left:0; top:0; width:100%; height:100%; background:no-repeat center;"></div>');f.css({opacity:0,backgroundColor:a.mask.color,backgroundImage:t(a.images.loader)});g(document.body).append(f);f.animate({opacity:a.mask.opacity},a.animation.duration);var d=new Image;d.src=c;d.onload=function(){function b(){f.remove();o.remove()}var i=g(window).width()-100,j=g(window).height()-
100,k=p.fit(d.width/4,d.height/4,i,j,{noEnlarge:!0,minWidth:100,minHeight:100});k.left+=50;k.top+=50;var l=p.fit(d.width+20,d.height+20,i,j,{noEnlarge:!0,minWidth:120,minHeight:120});l.left+=50;l.top+=50;var o=g('<div style="position:fixed; z-index:1000;"></div>');o.css(k);o.css({backgroundColor:a.frame.color,borderRadius:a.frame.borderRadius});o.hide();var m=g('<img src="'+c+'" alt="" style="display:block;" />');m.css({margin:"10px",width:k.width-20,height:k.height-20,borderRadius:a.frame.borderRadius>
8?a.frame.borderRadius-8:0});var n=g('<a href="#" style="display:block; position:absolute; right:-12px; top:-10px; width:30px; height:30px; background:no-repeat center;"></a>');n.css({backgroundImage:t(a.images.close)});o.append(m);g(document.body).append(o);(function(){f.css({backgroundImage:"none"});m.animate({width:l.width-20,height:l.height-20,margin:"10px"},a.animation.duration,"easeOutBack");l.opacity="show";o.animate(l,a.animation.duration,"easeOutBack",function(){o.append(n)})})();g(window).resize(function(){i=
g(window).width()-100;j=g(window).height()-100;k=p.fit(d.width/4,d.height/4,i,j,{noEnlarge:!0,minWidth:100,minHeight:100});k.left+=50;k.top+=50;l=p.fit(d.width+20,d.height+20,i,j,{noEnlarge:!0,minWidth:120,minHeight:120});l.left+=50;l.top+=50;o.css(l);m.css({width:l.width-20,height:l.height-20})});f.click(b);n.click(function(){n.remove();k.opacity="hide";o.animate(k,a.animation.duration*0.67);m.animate({width:k.width-20,height:k.height-20},a.animation.duration*0.67);f.fadeOut(a.animation.duration,
function(){b()});return!1})}}})(jQuery);
